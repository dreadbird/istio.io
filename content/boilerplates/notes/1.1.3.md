## Bug fixes and minor enhancements

- Istio-specific backports of Envoy patches for [CVE-2019-9900](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9900) and [CVE-2019-9901](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9901) included in Istio 1.1.2 have been dropped in favor of an [Envoy update](https://github.com/envoyproxy/envoy/commit/ac7aa5ac8a815e5277b4d4659c5c02145fa1d56f) which contains the final version of the patches.    This replaces backports that were made privately in compliance with the Envoy embargo with equivalents that are public and auditable.
- [Fix load balancer weight setting for split horizon `EDS` (](https://github.com/istio/istio/commit/27e1b980aa17dee6968083568ec2b0d3cb5d0b69)[PR 12560](https://github.com/istio/istio/pull/12560)[)](https://github.com/istio/istio/commit/27e1b980aa17dee6968083568ec2b0d3cb5d0b69)
- [Fix typo in default Envoy `JSON` log format (](https://github.com/istio/istio/commit/fd639acdd336da0b15dc8dec48654d330220443e)[Issue 12232](https://github.com/istio/istio/issues/12232)[)](https://github.com/istio/istio/commit/fd639acdd336da0b15dc8dec48654d330220443e)
- [Clarify mesh connect timeout fields (](https://github.com/istio/istio/commit/350f77127c31ed3a81b8979b43a39287a4d4326b)[Issue 11319](https://github.com/istio/istio/issues/11319)[)](https://github.com/istio/istio/commit/350f77127c31ed3a81b8979b43a39287a4d4326b)
- [Refresh `oop handler` with connection config update (](https://github.com/istio/istio/commit/52b4b97b8eb6dd4d1c3df80a8abb2548a6780c5f)[Issue 12488](https://github.com/istio/istio/issues/12488)[)](https://github.com/istio/istio/commit/52b4b97b8eb6dd4d1c3df80a8abb2548a6780c5f)
- [Hide `ServiceAccounts` from `PushContext` log to reduce log spam (](https://github.com/istio/istio/commit/cb25f887528882769337a7c4221e4122f8d2197c)[PR 12702](https://github.com/istio/istio/pull/12702)[)](https://github.com/istio/istio/commit/cb25f887528882769337a7c4221e4122f8d2197c)
- [Configure `localityLbSetting` in `values.yaml` by passing it through to the mesh config (](https://github.com/istio/istio/commit/de0a6b712755e2b926964de75837e66f34102d26)[PR 12683](https://github.com/istio/istio/pull/12683)[)](https://github.com/istio/istio/commit/de0a6b712755e2b926964de75837e66f34102d26)
- [Restore Kiali settings that were accidentally deleted. (](https://github.com/istio/istio/commit/0145ed7309c0854b39ab04b68298010b624ab9ab)[Issue 3660)](https://github.com/istio/istio/issues/3660)
- [Remove the soon-to-be deprecated `critical-pod` annotation from Helm charts. (](https://github.com/istio/istio/commit/b1cad5fb592a6100de35d5c1bd599b2ac9a75485)[Issue 12650](https://github.com/istio/istio/issues/12650)[)](https://github.com/istio/istio/commit/b1cad5fb592a6100de35d5c1bd599b2ac9a75485)
- [Suppport pod anti-affinity annotations to improve control plane availability. (](https://github.com/istio/istio/commit/a7150e49d6229581b5c2e50d8fa3dd67401b6ecc)[Issue 11333](https://github.com/istio/istio/issues/11333)[)](https://github.com/istio/istio/commit/a7150e49d6229581b5c2e50d8fa3dd67401b6ecc) 
- [Pretty print IP addresses to access logs (](https://github.com/istio/istio/commit/ba047dc9474a10e63304b74a26787812606223ff)[PR 12502)](https://github.com/istio/istio/pull/12502)
- [Remove redundant write header to further reduce log spam (](https://github.com/istio/istio/commit/fedfd4750ffbe96e90378a257e9e414f4201adef)[PR 12731](https://github.com/istio/istio/pull/12731)[)](https://github.com/istio/istio/commit/fedfd4750ffbe96e90378a257e9e414f4201adef) 
- [Improve destination host validatation in Pilot (](https://github.com/istio/istio/commit/e6b39fefdb24eb78f4be7c0e7929b5c02cf3af8c)[PR 12804](https://github.com/istio/istio/pull/12804)[)](https://github.com/istio/istio/commit/e6b39fefdb24eb78f4be7c0e7929b5c02cf3af8c)
- [Explicitly configure `istio-init` to run as root so use of pod-level `securityContext.runAsUser` doesn't break it (](https://github.com/istio/istio/commit/bf0ae4940797e0db9ab1f0adddfa82046afa5ed3)[Issue 5453](https://github.com/istio/istio/issues/5453)[)](https://github.com/istio/istio/commit/bf0ae4940797e0db9ab1f0adddfa82046afa5ed3)
- [Add configuration samples for Vault integration (](https://github.com/istio/istio/commit/03ec4b4f91c10986bbde8c20b8934e33498dac93)[PR 12917)](https://github.com/istio/istio/pull/12917)
- [Prevent services with same target port resulting in duplicate inbound listeners. (](https://github.com/istio/istio/commit/7531ca17b366b516cbd0d34ffa89db3d00a90d27)[Issue 9504](https://github.com/istio/istio/issues/9504)[)](https://github.com/istio/istio/commit/7531ca17b366b516cbd0d34ffa89db3d00a90d27)
- 
- [respect locality weight set from ServiceEntry (](https://github.com/istio/istio/commit/c97638912468009bbccc102e8ace92f4b2dd5d19)[#12714](https://github.com/istio/istio/pull/12714)[)](https://github.com/istio/istio/commit/c97638912468009bbccc102e8ace92f4b2dd5d19) …
- [Auto bind to services for Sidecar listeners with specific ports (](https://github.com/istio/istio/commit/67085adc665017a36b77ecf4ce583a32e7705cdf)[#12724](https://github.com/istio/istio/pull/12724)[)](https://github.com/istio/istio/commit/67085adc665017a36b77ecf4ce583a32e7705cdf)…
- [Cleanup gateway vhost config gen (](https://github.com/istio/istio/commit/78f5101f47e40a66c09c4ee82bb0b186aadf6f14)[#12847](https://github.com/istio/istio/pull/12847)[)](https://github.com/istio/istio/commit/78f5101f47e40a66c09c4ee82bb0b186aadf6f14) …
- [Add wildcard route fallthrough (Fixes ALLOW_ANY, 404s) (](https://github.com/istio/istio/commit/3a4aa250d4f08b99a753c5b4ff230cf53e2ecfd7)[#12916](https://github.com/istio/istio/pull/12916)[)](https://github.com/istio/istio/commit/3a4aa250d4f08b99a753c5b4ff230cf53e2ecfd7) …
- [Change Ip Address to readable format in accesslog from stdio/stackdri…](https://github.com/istio/istio/commit/5e0cd4270a98b4f43d2cfc576920ba9cc40fe9cc)…
- [Cherry pick cert file config from master to release-1.1 (](https://github.com/istio/istio/commit/a788675c8cc25aa49a0c6aa80bbd49152b45045b)[#12707](https://github.com/istio/istio/pull/12707)[)](https://github.com/istio/istio/commit/a788675c8cc25aa49a0c6aa80bbd49152b45045b) …
- [Add support for datadog tracing (on release-1.1 branch) (](https://github.com/istio/istio/commit/d6aeaa4be18042f6da6063aff0f9806a3cdc192d)[#12687](https://github.com/istio/istio/pull/12687)[)](https://github.com/istio/istio/commit/d6aeaa4be18042f6da6063aff0f9806a3cdc192d) …
- [fix validation logic so that port.name is no longer a valid PortSelec…](https://github.com/istio/istio/commit/deefb3e765d8fec5b88a5048967eb9df55b584ae)…
- [Add x alias to experimental istioctl command (](https://github.com/istio/istio/commit/7ff5b5e6b546ddb7db5250cf251780455336e4c4)[#11801](https://github.com/istio/istio/pull/11801)[)](https://github.com/istio/istio/commit/7ff5b5e6b546ddb7db5250cf251780455336e4c4) …
- [Update tracing_datadog_golden.json (](https://github.com/istio/istio/commit/8f236ca094d58e4d8d798f82ab4788ac0e9ce87e)[#13082](https://github.com/istio/istio/pull/13082)[)](https://github.com/istio/istio/commit/8f236ca094d58e4d8d798f82ab4788ac0e9ce87e)
- [Add jitter in CSR request (](https://github.com/istio/istio/commit/cfec06710c0142e90e2d1af9d936406f7d8b330b)[#12805](https://github.com/istio/istio/pull/12805)[)](https://github.com/istio/istio/commit/cfec06710c0142e90e2d1af9d936406f7d8b330b) …
- ['istioctl proxy-config clusters' cluster type column rendering (](https://github.com/istio/istio/commit/c4b53d7924f4a15db826c0ef1bb1c083a051b6e4)[#12458](https://github.com/istio/istio/pull/12458)[)…](https://github.com/istio/istio/commit/c4b53d7924f4a15db826c0ef1bb1c083a051b6e4)…
- [Update sds secret mount. (](https://github.com/istio/istio/commit/41b831f443914c3dd97f1b761c2fb9afed29850e)[PR 12733](https://github.com/istio/istio/pull/12733)[)](https://github.com/istio/istio/commit/41b831f443914c3dd97f1b761c2fb9afed29850e)
- [Copy data from right place (](https://github.com/istio/istio/commit/d7f1286834cf5d4e2f86dc2611cd2373ad192bf7)[#12762](https://github.com/istio/istio/pull/12762)[)](https://github.com/istio/istio/commit/d7f1286834cf5d4e2f86dc2611cd2373ad192bf7)
- [Fix updateClusterInc for overlapping ports (](https://github.com/istio/istio/commit/497c85e7f4e0a0783991d015023a1393a60d4731)[#12766](https://github.com/istio/istio/pull/12766)[)](https://github.com/istio/istio/commit/497c85e7f4e0a0783991d015023a1393a60d4731) …
- [Allow overriding of registry locality (](https://github.com/istio/istio/commit/7e813b47e2f35d8cf3a39a5972d8643b9bac8f33)[#13077](https://github.com/istio/istio/pull/13077)[)](https://github.com/istio/istio/commit/7e813b47e2f35d8cf3a39a5972d8643b9bac8f33) …
- [mixer: add support for standard CRDs for compiled-in adapters (](https://github.com/istio/istio/commit/25eedac3845b52a523234c74240a5e6ce91c462e)[#12815](https://github.com/istio/istio/pull/12815)[)](https://github.com/istio/istio/commit/25eedac3845b52a523234c74240a5e6ce91c462e)…
- [Reduce Pilot resource requests for demo (](https://github.com/istio/istio/commit/4a2b0017721d4e0998a74712ac94757191c5f64f)[#12477](https://github.com/istio/istio/pull/12477)[)](https://github.com/istio/istio/commit/4a2b0017721d4e0998a74712ac94757191c5f64f) …
- [Added data source for Galley dashboard (](https://github.com/istio/istio/commit/aec5f8b9eaa52d75091e813df84c393bc50fbb93)[#13041](https://github.com/istio/istio/pull/13041)[)](https://github.com/istio/istio/commit/aec5f8b9eaa52d75091e813df84c393bc50fbb93) …
- [fix values for pod anti-affinity. (](https://github.com/istio/istio/commit/75b00d708b6319d20eb6669d76e2421455695967)[#12798](https://github.com/istio/istio/pull/12798)[)](https://github.com/istio/istio/commit/75b00d708b6319d20eb6669d76e2421455695967)
- [Add sensible defaults to istio-gateways (](https://github.com/istio/istio/commit/bfea6044ef93511bcdf5b26faf53c0e33a1da4f7)[#12315](https://github.com/istio/istio/pull/12315)[)](https://github.com/istio/istio/commit/bfea6044ef93511bcdf5b26faf53c0e33a1da4f7)
- [fix(helm/sidecar-injector-configmap): run as root (](https://github.com/istio/istio/commit/e7f9fd6b126bb376d3784a3e131d506814eecaea)[#13217](https://github.com/istio/istio/pull/13217)[)](https://github.com/istio/istio/commit/e7f9fd6b126bb376d3784a3e131d506814eecaea)
- [Destination host cannot be * (](https://github.com/istio/istio/commit/cccb01eb5f1cb1e769c6e19e79528f4bf0d8c1f4)[#13222](https://github.com/istio/istio/pull/13222)[)](https://github.com/istio/istio/commit/cccb01eb5f1cb1e769c6e19e79528f4bf0d8c1f4) …
- [automating Mixer samples (](https://github.com/istio/istio/commit/c30c91c739617c6fdba4cd0ef846c51be3949439)[#13196](https://github.com/istio/istio/pull/13196)[)](https://github.com/istio/istio/commit/c30c91c739617c6fdba4cd0ef846c51be3949439) …
- [Add upstream idle_timeout to cluster definition (](https://github.com/istio/istio/commit/e961061885161a3235b0851cc5fb64f69a6779db)[#13146](https://github.com/istio/istio/pull/13146)[)](https://github.com/istio/istio/commit/e961061885161a3235b0851cc5fb64f69a6779db)
- [Cherry pick](https://github.com/istio/istio/commit/4b5666af2cf9c8eb78b071b7b4ea06daab782678) [#13233](https://github.com/istio/istio/pull/13233) [to fix expired certificates (](https://github.com/istio/istio/commit/4b5666af2cf9c8eb78b071b7b4ea06daab782678)[#13234](https://github.com/istio/istio/pull/13234)[)](https://github.com/istio/istio/commit/4b5666af2cf9c8eb78b071b7b4ea06daab782678) …
- [fix original destination bug (](https://github.com/istio/istio/commit/cc09c8de63ce950906bd91c73085ecb474123e14)[#13242](https://github.com/istio/istio/pull/13242)[)](https://github.com/istio/istio/commit/cc09c8de63ce950906bd91c73085ecb474123e14) …
- [Fix](https://github.com/istio/istio/commit/3b3992b0ecf501fdc9724abcd30128b7823be77f) [#11818](https://github.com/istio/istio/issues/11818) [fix workloadSelector for Sidecars (](https://github.com/istio/istio/commit/3b3992b0ecf501fdc9724abcd30128b7823be77f)[#12666](https://github.com/istio/istio/pull/12666)[)](https://github.com/istio/istio/commit/3b3992b0ecf501fdc9724abcd30128b7823be77f) …
- [Right place to copy data from (](https://github.com/istio/istio/commit/32d5b9794cffe32f55fe64f663eea2e96c30e808)[#13149](https://github.com/istio/istio/pull/13149)[)](https://github.com/istio/istio/commit/32d5b9794cffe32f55fe64f663eea2e96c30e808) …
- [use port 80 for HTTP from details, for TLS origination (](https://github.com/istio/istio/commit/11787675d47b892462ee245f6b1869df090b4991)[#13206](https://github.com/istio/istio/pull/13206)[)](https://github.com/istio/istio/commit/11787675d47b892462ee245f6b1869df090b4991) …
- [Fix ingress sds memory leak (](https://github.com/istio/istio/commit/2a39a33f0b06d865e4df52a0594973baf6ada405)[#13251](https://github.com/istio/istio/pull/13251)[)](https://github.com/istio/istio/commit/2a39a33f0b06d865e4df52a0594973baf6ada405) …
- [add liveness probe for citadel. (](https://github.com/istio/istio/commit/b5f104c79931a2b789a0338467e9044a488aa070)[#12734](https://github.com/istio/istio/pull/12734)[)](https://github.com/istio/istio/commit/b5f104c79931a2b789a0338467e9044a488aa070)
- [Make 15020 first port in ingressgateway service (](https://github.com/istio/istio/commit/eda1935991e667f7609a07c616b143f0e5f51a42)[#12668](https://github.com/istio/istio/pull/12668)[)](https://github.com/istio/istio/commit/eda1935991e667f7609a07c616b143f0e5f51a42) …
- [Allow Locality Distribute without outlierDetection (](https://github.com/istio/istio/commit/07da3bebff5268b150f180628a5314cfc37251a8)[#12965](https://github.com/istio/istio/pull/12965)[)](https://github.com/istio/istio/commit/07da3bebff5268b150f180628a5314cfc37251a8) …
- [patch deprecated field (](https://github.com/istio/istio/commit/b537eab247a8159f005891c59685f4d3c7c83811)[#13266](https://github.com/istio/istio/pull/13266)[)](https://github.com/istio/istio/commit/b537eab247a8159f005891c59685f4d3c7c83811) …
- [Skip validating non ingress gateway secret at secret fetcher. (](https://github.com/istio/istio/commit/41483011425ec92069f6c975d4930c574e8b2448)[#13281](https://github.com/istio/istio/pull/13281)[)](https://github.com/istio/istio/commit/41483011425ec92069f6c975d4930c574e8b2448)…
- [Fix labels on manifests (](https://github.com/istio/istio/commit/b7a84b57cc3dc3975ee6ac3cf5bf7d11ac69127a)[#11788](https://github.com/istio/istio/pull/11788)[)](https://github.com/istio/istio/commit/b7a84b57cc3dc3975ee6ac3cf5bf7d11ac69127a) …




